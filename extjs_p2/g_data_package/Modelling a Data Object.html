<html>
    <head>
        <title>Modelling a Data Object</title>
        <!-- Library Files -->
        <link rel="stylesheet" type="text/css" href="extjs4.1/resources/css/ext-all.css">
        <script type="text/javascript" src="extjs4.1/ext-all-debug.js">
        </script>
        <script type="text/javascript">
            Ext.onReady(function(){
            
                /*
                 * Step 1 - Register the Model
                 */
                Ext.define('Book', {
                    extend: 'Ext.data.Model'
                });
                
                
                
                /**
                 * Step 2 - Define the Model's fields and there data types
                 */
                Ext.define('Book', {
                    extend: 'Ext.data.Model',
                    
                    fields: [{
                        name: 'Title',
                        type: 'string'
                    }, {
                        name: 'Publisher',
                        type: 'string'
                    }, {
                        name: 'ISBN',
                        type: 'string'
                    }, {
                        name: 'PublishDate',
                        type: 'date',
                        dateFormat: 'd-m-Y'
                    }, {
                        name: 'NumberOfPages',
                        type: 'int'
                    }, {
                        name: 'Read',
                        type: 'boolean'
                    }]
                });
                
                
                /**
                 * Step 3 - Create a new Model instance
                 */
                var book = Ext.create('Book', {
                    Title: 'Ext JS 4 ck',
                    Publisher: 'pt Publishing',
                    ISBN: '978-1-849516-86-0',
                    PublishDate: '01-01-2012',
                    NumberOfPages: 300,
                    Read: false
                });
                
                console.log('Title: ' + book.get('Title')); // outputs 'Title: Ext JS ck'
                console.log('Publish Date: ' + book.get('PublishDate')); // outputs 'Publish Date: Sun Jan 01 2012 00:00:00 GMT+0000 (GMT Standard Time)'
                console.log('Read: ' + book.get('Read')); // outputs 'Read: false'
                book.set('Read', true);
                console.log('Read: ' + book.get('Read')); // outputs 'Read: true'
                /**
                 * There's More... - Setting the Model�s Uniquely Identifying Property
                 */
                Ext.define('Book', {
                    extend: 'Ext.data.Model',
                    
                    idProperty: 'ISBN',
                    
                    fields: [{
                        name: 'Title',
                        type: 'string'
                    }, {
                        name: 'Publisher',
                        type: 'string'
                    }, {
                        name: 'ISBN',
                        type: 'string'
                    }, {
                        name: 'PublishDate',
                        type: 'date',
                        dateFormat: 'd-m-Y'
                    }, {
                        name: 'NumberOfPages',
                        type: 'int'
                    }, {
                        name: 'Read',
                        type: 'boolean'
                    }]
                });
                
                
                /**
                 * There's More... - Processing a Field�s Data before Loading
                 */
                Ext.define('Book', {
                    extend: 'Ext.data.Model',
                    
                    idProperty: 'ISBN',
                    
                    fields: [{
                        name: 'Title',
                        type: 'string',
                        convert: function(v, record){
                            return record.get('ISBN') + ' :: ' + v;
                        }
                    }, {
                        name: 'Publisher',
                        type: 'string'
                    }, {
                        name: 'ISBN',
                        type: 'string'
                    }, {
                        name: 'PublishDate',
                        type: 'date',
                        dateFormat: 'd-m-Y'
                    }, {
                        name: 'NumberOfPages',
                        type: 'int'
                    }, {
                        name: 'Read',
                        type: 'boolean'
                    }]
                });
                
                book = Ext.create('Book', {
                    Title: 'Ext JS 4 ck',
                    Publisher: 'pt Publishing',
                    ISBN: '978-1-849516-86-0',
                    PublishDate: '01-01-2012',
                    NumberOfPages: 300,
                    Read: false
                });
                
                console.log('Title: ' + book.get('Title'));
                
            });
        </script>
    </head>
    <body>
    </body>
</html>
