<html>
    <head>
        <title>Saving and Loading data with HTML5 Local Storage</title>
        <!-- Library Files -->
        <link rel="stylesheet" type="text/css" href="extjs4.1/resources/css/ext-all.css">
        <script type="text/javascript" src="extjs4.1/ext-all-debug.js">
        </script>
        <script type="text/javascript">
            Ext.onReady(function(){
            
                Ext.define('UserSetting', {
                    extend: 'Ext.data.Model',
                    
                    idProperty: 'userID',
                    
                    fields: [{
                        name: 'userID',
                        type: 'int'
                    }, {
                        name: 'fontSize',
                        type: 'string'
                    }, {
                        name: 'theme',
                        type: 'string'
                    }, {
                        name: 'language',
                        type: 'string'
                    }, {
                        name: 'dateFormat',
                        type: 'string'
                    }],
                    
                    
                    proxy: {
                        type: 'localstorage',
                        id: 'user-settings'
                    }
                });
                
                
                
                var settings = Ext.create('UserSetting', {
                    userID: 1,
                    fontSize: 'medium',
                    theme: 'default',
                    language: 'en-gb',
                    dateFormat: 'd/m/Y'
                });
                
                settings.save();
                
                
                UserSetting.load(1, {
                    callback: function(model, operation){
                        console.log(model.get('language'));
                    }
                });
                
                
                
            });
        </script>
    </head>
    <body>
    </body>
</html>
